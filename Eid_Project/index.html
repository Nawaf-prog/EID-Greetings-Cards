<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>صمم بطاقة تهنئتك🎊!</title>
    <link href="https://fonts.googleapis.com/css?family=Tajawal&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Markazi+Text:wght@450" />
    <link href="https://fonts.googleapis.com/css2?family=Reem+Kufi:wght@400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="images/eid-mubarak.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">



</head>
<div id="balloon-container">
</div>

<body>
    <header>
        <div class="header-content">
            <h2 style="text-align: right; float: right;">عيد سعيد</h2>
            <div class="dropdown">
                <button class="dropbtn">
                    <span class="hamburger-icon"></span>
                </button>
                <div class="dropdown-content" id="dropdownContent">
                    <a href="https://linktr.ee/nawafmohammed">حساباتي الشخصية</a>
                    <!-- Additional links can be added here -->
                </div>
            </div>
        </div>
    </header>


    <div class="content">
        <h1 id="Eid-Greating">عِيد مُبارك</h1>
        <h3 style="font-size: 3.5vh; font-weight: bold;">كل عام وانتم بخير وعساكم من عواده</h3>
        <h3>أخوكم نواف محمد</h3>
        <h3>حساباتي في مواقع التواصل الاجتماعي</h3>
        <!-- Social Icons -->
        <div class="social-icons">
            <a href="https://x.com/nwaf_030" target="_blank" title="Twitter">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="https://www.linkedin.com/in/nawaf-ibrahim-02513b249/?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app"
                target="_blank" title="LinkedIn">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </div>

        <div class="card-selection">
            <label for="userName">اكتب اسمك ثم اختر بطاقة التهنئة ليتم تنزيلها</label>
            <input type="text" id="userName" placeholder="أدخل اسمك هُنا" style="text-align: right;">
            <div class="design-options">
                <img src="images/Design1.JPG" alt="Design 1" class="design-option" data-design="design1"
                    data-name-x="50" data-name-y="75">
                <img src="images/Design2.JPG" alt="Design 2" class="design-option" data-design="design2"
                    data-name-x="50" data-name-y="60">
                <img src="images/Design3.JPG" alt="Design 3" class="design-option" data-design="design3"
                    data-name-x="50" data-name-y="55">
                <img src="images/Design4.JPG" alt="Design 4" class="design-option" data-design="design4"
                    data-name-x="50" data-name-y="60">
                <img src="images/Design5.JPG" alt="Design 5" class="design-option" data-design="design5"
                    data-name-x="50" data-name-y="80">
                <img src="images/Design6.JPG" alt="Design 6" class="design-option" data-design="design6"
                    data-name-x="50" data-name-y="65">
                <img src="images/Design7.JPG" alt="Design 7" class="design-option" data-design="design7"
                    data-name-x="50" data-name-y="80">
                <img src="images/Design8.PNG" alt="Design 8" class="design-option" data-design="design8"
                    data-name-x="50" data-name-y="77">
                <img src="images/Design9.PNG" alt="Design 9" class="design-option" data-design="design9"
                    data-name-x="50" data-name-y="78">
                <img src="images/Design10.PNG" alt="Design 10" class="design-option" data-design="design10"
                    data-name-x="50" data-name-y="80">
                <img src="images/Design11.PNG" alt="Design 11" class="design-option" data-design="design11"
                    data-name-x="50" data-name-y="80">
                <img src="images/Design12.PNG" alt="Design 12" class="design-option" data-design="design12"
                    data-name-x="50" data-name-y="85">
                <img src="images/Design13.PNG" alt="Design 13" class="design-option" data-design="design13"
                    data-name-x="50" data-name-y="53">
                <img src="images/Design14.PNG" alt="Design 14" class="design-option" data-design="design14"
                    data-name-x="50" data-name-y="60">
                <img src="images/Design15.PNG" alt="Design 15" class="design-option" data-design="design15"
                    data-name-x="50" data-name-y="70">
                <img src="images/Design16.JPG" alt="Design 16" class="design-option" data-design="design16"
                    data-name-x="50" data-name-y="60">

                <!-- Add more designs as needed -->
            </div>
        </div>
    </div>
    <footer class="first-footer">
        <!-- <p>Contact Us: email@example.com</p>
        <p>&copy; 2023 Customizable Greeting Cards</p> -->
        <!-- Social Icons -->
        <div class="social-links">
            <a href="https://www.linkedin.com/in/nawaf-ibrahim-02513b249/?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app"
                target="_blank" title="LinkedIn">
                <i class="fab fa-linkedin"></i>
            </a>
            <a href="https://x.com/nwaf_030" target="_blank" title="X Application">
                <img src="images/x-twitter.svg" alt="X Application" style="width: 24px; height: 24px;">
                <!-- Replace 'fa-x-app-symbol' with the actual class for X application icon -->
            </a>
            <a href="https://github.com/Nawaf-prog" target="_blank" title="GitHub">
                <i class="fab fa-github"></i>
            </a>
        </div>
    </footer>
    <footer>
        <!-- Footer content here -->
        <p style="font-size: medium;">&copy; 2024 Copyright Nawaf Mohammed </p>
    </footer>
    <script>
        document.querySelectorAll('.design-option').forEach(item => {
            item.addEventListener('click', async function () {
                const userName = document.getElementById('userName').value;
                if (!userName) {
                    alert('Please enter your name.');
                    return;
                }

                const designSrc = this.getAttribute('src');
                const namePosX = this.getAttribute('data-name-x') || 50;
                const namePosY = this.getAttribute('data-name-y') || 50;

                const image = new Image();
                image.crossOrigin = "Anonymous"; // Needed if you're loading images from another domain
                image.src = designSrc;

                await new Promise(r => image.onload = r);

                // Create an off-screen canvas
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = image.width;
                canvas.height = image.height;

                // Draw the image onto the canvas
                ctx.drawImage(image, 0, 0);

                // Add text overlay
                if (designSrc == "images/Design1.JPG") {
                    ctx.font = "45px 'Reem Kufi'";
                    ctx.fillStyle = "#40678c";
                    ctx.textAlign = "center";

                } else if (designSrc == "images/Design2.JPG") {
                    ctx.font = "30px 'Reem Kufi'";
                    ctx.fillStyle = "#8e897d";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design3.JPG") {
                    ctx.font = "40px 'Reem Kufi'";
                    ctx.fillStyle = "#776e65";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design4.JPG") {
                    ctx.font = "45px 'Reem Kufi'";
                    ctx.fillStyle = "#ac9f8c";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design5.JPG") {
                    ctx.font = "40px 'Reem Kufi'";
                    ctx.fillStyle = "Black";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design6.JPG") {
                    ctx.font = "35px 'Reem Kufi'";
                    ctx.fillStyle = "#105d5f";
                    ctx.textAlign = "center";
                } else if (designSrc == "images/Design7.JPG") {
                    ctx.font = "35px 'Reem Kufi'";
                    ctx.fillStyle = "#ca9c54";
                    ctx.textAlign = "center";
                } else if (designSrc == "images/Design8.PNG") {
                    ctx.font = "30px 'Reem Kufi'";
                    ctx.fillStyle = "#35a2af";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design9.PNG") {
                    ctx.font = "40px 'Reem Kufi'";
                    ctx.fillStyle = "#e4e3e2";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design10.PNG") {
                    ctx.font = "45px 'Reem Kufi'";
                    ctx.fillStyle = "#224b61";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design11.PNG") {
                    ctx.font = "40px 'Reem Kufi'";
                    ctx.fillStyle = "Black";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design12.PNG") {
                    ctx.font = "35px 'Reem Kufi'";
                    ctx.fillStyle = "#dadfe4";
                    ctx.textAlign = "center";
                } else if (designSrc == "images/Design13.PNG") {
                    ctx.font = "45px 'Reem Kufi'";
                    ctx.fillStyle = "Black";
                    ctx.textAlign = "center";
                } else if (designSrc == "images/Design14.PNG") {
                    ctx.font = "40px 'Reem Kufi'";
                    ctx.fillStyle = "#322511";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design15.PNG") {
                    ctx.font = "40px 'Reem Kufi'";
                    ctx.fillStyle = "#776e65";
                    ctx.textAlign = "center";
                }
                else if (designSrc == "images/Design16.JPG") {
                    ctx.font = "45px 'Reem Kufi'";
                    ctx.fillStyle = "#ac9f8c";
                    ctx.textAlign = "center";
                }

                ctx.fillText(userName, canvas.width * namePosX / 100, canvas.height * namePosY / 100);

                // Trigger download
                canvas.toBlob(function (blob) {
                    const url = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = 'customized_card.png';
                    document.body.appendChild(link); // Firefox requires the link to be in the body
                    link.click();
                    document.body.removeChild(link);
                    URL.revokeObjectURL(url);
                }, 'image/png');
            });
        });
        document.querySelector('.dropbtn').addEventListener('click', function () {
            var dropdownContent = document.getElementById("dropdownContent");
            dropdownContent.classList.toggle("show");
        });
        //-----------------------------------------------------------------------------------
        document.addEventListener('DOMContentLoaded', function () {
            const dropBtn = document.querySelector('.dropbtn');
            const dropdownContent = document.getElementById("dropdownContent");

            // Toggle the dropdown open or closed when clicking the drop button.
            dropBtn.addEventListener('click', function (event) {
                dropdownContent.classList.toggle("show");
                event.stopPropagation(); // Prevent the click from being immediately captured by the window event listener.
            });

            // Close the dropdown if clicking outside of it, including on the hamburger icon again.
            window.addEventListener('click', function (e) {
                if (!dropBtn.contains(e.target)) {
                    dropdownContent.classList.remove("show");
                }
            });
        });
        //-----------------------------------------------------------------------------------

    </script>
</body>

</html>